include ../../config.mk

LIB := libcommon.a

SOURCES := $(wildcard *.cc)
HEADERS := $(wildcard *.h)
OBJECTS := $(SOURCES:.cc=.o)

DEPS := $(SOURCES:.cc=.d)

all: $(LIB)

$(LIB): $(OBJECTS)
	@echo "$(LINK_COLOR)Archiving$(RESET) $(LIB)"
	$(SILENT)$(AR) rcs $(LIB) $(OBJECTS)

clean:
	@echo "$(CLEAN_COLOR)Cleaning$(RESET) $(shell pwd)"
	$(SILENT)rm -f $(LIB) $(OBJECTS) $(DEPS)

# KEEP at the end so %.o rule doesn't overwrite the dependcy tracking
# rules generated by the compiler.
-include $(DEPS)

# :mode=Makefile:
